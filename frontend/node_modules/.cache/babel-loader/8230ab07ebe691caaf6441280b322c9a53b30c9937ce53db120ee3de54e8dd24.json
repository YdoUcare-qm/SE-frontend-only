{"ast":null,"code":"export default {\n  name: 'StaffHome',\n  data() {\n    return {\n      websiteName: \"Dis.integrate\",\n      categories: [],\n      allottedCategories: []\n    };\n  },\n  async created() {\n    // Fetch categories and subscribed categories\n    await this.fetchCategories();\n    await this.fetchAllottedCategories();\n  },\n  methods: {\n    async fetchCategories() {\n      // Fetch categories from API\n      await fetch('http://localhost:5000/api/categories').then(response => response.json()).then(data => {\n        this.categories = data.category_list.categories;\n        console.log(this.categories);\n      }).catch(error => {\n        console.error('Error fetching categories:', error);\n      });\n    },\n    async fetchAllottedCategories() {\n      // Fetch subscribed categories for the user\n      const userId = localStorage.getItem('id');\n      await fetch('http://localhost:5000/api/staff/categories', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          user_id: userId\n        })\n      }).then(response => response.json()).then(data => {\n        // Filter categories array to include only subscribed categories\n        if (this.categories.length > 0) {\n          // Filter categories array to include only subscribed categories\n          this.allottedCategories = this.categories.filter(category => data.categories.some(allotted => allotted.cid === category.id));\n          console.log(this.allottedCategories);\n        }\n      }).catch(error => {\n        console.error('Error fetching allotted categories:', error);\n      });\n    }\n  }\n};","map":{"version":3,"names":["name","data","websiteName","categories","allottedCategories","created","fetchCategories","fetchAllottedCategories","methods","fetch","then","response","json","category_list","console","log","catch","error","userId","localStorage","getItem","method","headers","body","JSON","stringify","user_id","length","filter","category","some","allotted","cid","id"],"sources":["/home/jeevan/Integration Testing/SE-frontend-only/frontend/src/components/staffcomponents/StaffHome.vue"],"sourcesContent":["<template>\n    <div>\n      <!-- Left-side navigation bar -->\n      <div class=\"sidebar\">\n        \n        <!-- Navigation links -->\n        <div class=\"navigation-links\">\n          <ul>\n            <li><a href=\"/staffprofile\">Profile</a></li>\n            <li><a href=\"/staffhome\">Home</a></li>\n            <li><a href=\"/managetickets\">Manage Tickets</a></li>\n            <li><a href=\"/managetopics\">Manage Topics</a></li>\n            <li><a href=\"/staffsettings\">Settings</a></li>\n          </ul>\n        </div>\n      </div>\n      <div class=\"navbar\">\n            <div class=\"website-name\">{{ websiteName }}</div>\n            <router-link to=\"/\"><button @click=\"logoutUser\" class=\"logout-button\">Logout</button></router-link>\n          </div>\n      <!-- Main content area -->\n      <div class=\"main-content\">\n        <!-- Main user information section -->\n        \n          <!-- Navigation bar -->\n          \n  \n          <div class=\"staff-home\">\n      <div class=\"category-card\" v-for=\"category in allottedCategories\" :key=\"category.id\">\n        <router-link :to=\"`/categorytopics/${category.id}`\">\n          <div class=\"card-content\">\n            <div class=\"category-name\">{{ category.name }}</div>\n            <div class=\"category-description\">{{ category.description }}</div>\n            \n          </div>\n        </router-link>\n      </div>\n    </div>\n          \n            \n          \n      </div>\n    </div>\n  </template>\n  \n  <script>\n  export default {\n    name: 'StaffHome',\n  \n    data() {\n      return {\n        websiteName: \"Dis.integrate\",\n        categories: [],\n        allottedCategories: []\n      };\n    },\n  \n    async created() {\n      // Fetch categories and subscribed categories\n      await this.fetchCategories();\n      await this.fetchAllottedCategories();\n    },\n  \n    methods: {\n      async fetchCategories() {\n        // Fetch categories from API\n        await fetch('http://localhost:5000/api/categories')\n          .then(response => response.json())\n          .then(data => {\n            this.categories = data.category_list.categories;\n            console.log(this.categories)\n          })\n          .catch(error => {\n            console.error('Error fetching categories:', error);\n          });\n      },\n  \n      async fetchAllottedCategories() {\n        // Fetch subscribed categories for the user\n        const userId = localStorage.getItem('id');\n        await fetch('http://localhost:5000/api/staff/categories', {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({ user_id: userId })\n        })\n        .then(response => response.json())\n        .then(data => {\n          // Filter categories array to include only subscribed categories\n          if (this.categories.length > 0) {\n            // Filter categories array to include only subscribed categories\n            this.allottedCategories = this.categories.filter(category =>\n              data.categories.some(allotted => allotted.cid === category.id)\n            );\n            console.log(this.allottedCategories);\n          }\n        })\n        .catch(error => {\n          console.error('Error fetching allotted categories:', error);\n        });\n      }\n    }\n  }\n  </script>\n  \n  \n  <style scoped>\n  /* Left-side navigation bar styles */\n  .staff-home {\n    display: flex;\n    flex-wrap: wrap;\n    justify-content: space-around;\n  }\n  \n  .category-card {\n    width: 300px;\n    margin-bottom: 20px;\n    border: 1px solid #ccc;\n    border-radius: 10px;\n    overflow: hidden;\n    cursor: pointer;\n  }\n  \n  .card-content {\n    padding: 20px;\n  }\n  \n  .category-name {\n    font-size: 20px;\n    font-weight: bold;\n    margin-bottom: 10px;\n  }\n  \n  .category-description {\n    margin-bottom: 10px;\n  }\n  \n  .subscription-status {\n    font-style: italic;\n  }\n  .sidebar {\n    width: 250px;\n    height: 100%;\n    position: fixed;\n    top: 75px;\n    left: 0;\n    background-color: #333;\n    color: #fff;\n    padding-top: 20px;\n  }\n  \n  .navigation-links ul {\n    list-style-type: none;\n    padding: 0;\n    margin: 0;\n  }\n  \n  .navigation-links ul li {\n    padding: 10px 20px;\n  }\n  \n  .navigation-links ul li a {\n    text-decoration: none;\n    color: #fff;\n  }\n  \n  .navigation-links ul li a:hover {\n    text-decoration: underline;\n  }\n  \n  /* Main content area styles */\n  \n  \n  /* Styles for navigation bar */\n  .navbar {\n    position: fixed;\n    top:0;\n    right:0;\n    left:0;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    padding: 10px;\n    background-color: #f0f0f0;\n  }\n  \n  .website-name {\n    font-size: 50px;\n  }\n  \n  .logout-button {\n    background-color: #ff6f61;\n    border: none;\n    color: white;\n    padding: 10px 20px;\n    border-radius: 5px;\n    cursor: pointer;\n    transition: background-color 0.3s ease;\n  }\n  \n  .logout-button:hover {\n    background-color: #e65346;\n  }\n  .main-content {\n    margin-left: 250px;\n    margin-top: 85px;\n    /* Adjusted to match the width of the sidebar */\n    padding: 20px;\n    display: flex; /* Ensure left and right sides are displayed side by side */\n  }\n  </style>\n  "],"mappings":"AA8CE,eAAe;EACbA,IAAI,EAAE,WAAW;EAEjBC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,WAAW,EAAE,eAAe;MAC5BC,UAAU,EAAE,EAAE;MACdC,kBAAkB,EAAE;IACtB,CAAC;EACH,CAAC;EAED,MAAMC,OAAOA,CAAA,EAAG;IACd;IACA,MAAM,IAAI,CAACC,eAAe,EAAE;IAC5B,MAAM,IAAI,CAACC,uBAAuB,EAAE;EACtC,CAAC;EAEDC,OAAO,EAAE;IACP,MAAMF,eAAeA,CAAA,EAAG;MACtB;MACA,MAAMG,KAAK,CAAC,sCAAsC,EAC/CC,IAAI,CAACC,QAAO,IAAKA,QAAQ,CAACC,IAAI,EAAE,EAChCF,IAAI,CAACT,IAAG,IAAK;QACZ,IAAI,CAACE,UAAS,GAAIF,IAAI,CAACY,aAAa,CAACV,UAAU;QAC/CW,OAAO,CAACC,GAAG,CAAC,IAAI,CAACZ,UAAU;MAC7B,CAAC,EACAa,KAAK,CAACC,KAAI,IAAK;QACdH,OAAO,CAACG,KAAK,CAAC,4BAA4B,EAAEA,KAAK,CAAC;MACpD,CAAC,CAAC;IACN,CAAC;IAED,MAAMV,uBAAuBA,CAAA,EAAG;MAC9B;MACA,MAAMW,MAAK,GAAIC,YAAY,CAACC,OAAO,CAAC,IAAI,CAAC;MACzC,MAAMX,KAAK,CAAC,4CAA4C,EAAE;QACxDY,MAAM,EAAE,MAAM;QACdC,OAAO,EAAE;UACP,cAAc,EAAE;QAClB,CAAC;QACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;UAAEC,OAAO,EAAER;QAAO,CAAC;MAC1C,CAAC,EACAR,IAAI,CAACC,QAAO,IAAKA,QAAQ,CAACC,IAAI,EAAE,EAChCF,IAAI,CAACT,IAAG,IAAK;QACZ;QACA,IAAI,IAAI,CAACE,UAAU,CAACwB,MAAK,GAAI,CAAC,EAAE;UAC9B;UACA,IAAI,CAACvB,kBAAiB,GAAI,IAAI,CAACD,UAAU,CAACyB,MAAM,CAACC,QAAO,IACtD5B,IAAI,CAACE,UAAU,CAAC2B,IAAI,CAACC,QAAO,IAAKA,QAAQ,CAACC,GAAE,KAAMH,QAAQ,CAACI,EAAE,EAC9D;UACDnB,OAAO,CAACC,GAAG,CAAC,IAAI,CAACX,kBAAkB,CAAC;QACtC;MACF,CAAC,EACAY,KAAK,CAACC,KAAI,IAAK;QACdH,OAAO,CAACG,KAAK,CAAC,qCAAqC,EAAEA,KAAK,CAAC;MAC7D,CAAC,CAAC;IACJ;EACF;AACF"},"metadata":{},"sourceType":"module","externalDependencies":[]}